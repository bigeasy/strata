sudo: false

language: node_js

node_js:
  - '8'
  - '10'

branches:
  only:
    - master
    - travis-ci

before_install:
  - pip install --user awscli
  - npm install --no-save --no-package-lock
  - npm install -g istanbul coveralls

after_script:
  - '[[ "$TRAVIS_PULL_REQUEST" = "false" ]] && aws s3 sync ./coverage s3://bigeasy/addendum/$TRAVIS_JOB_NUMBER/coverage'
